<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todays</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <img class="logo" src="" alt="logo">
        <div class="header-actions">
            <nav>
                <ul class="nav-links">
                    <li><a href="index.html">Accueil</a></li>
                    <li><a href="programmes.html">Programmes</a></li>
                    <li><a href="#">Tarifs</a></li>
                </ul>
            </nav>
            <div class="header-buttons">
                <a class="cta" href="contact.html"><button>Contact</button></a>
                <a id="profile-link" href="#" class="profile-icon">
                    <i class="fas fa-user"></i>
                </a>
            </div>
        </div>
    </header>

    <div class="tag-cloud-container">
        <br><br><br>
        <h1 class="stroke">
            Passez à l'action,<br>créez votre nouvelle réalité !
        </h1>
        <div class="tag-cloud-container">
            <div class="show-hide-button-container">
                <button id="startButton" class="show-hide-button"><h2>Commencer maintenant</h2></button>
            </div>
        </div>
    </div>
    
    <br><br><br><br><br>
      <section class="presentation-section">
        <div class="video-container">
            <img src="placeholder-video.jpg" alt="Vidéo de présentation" class="video-placeholder">
        </div>
        <div class="presentation-content">
            <h2>Transformez votre vie avec Todays</h2>
            <p>
                Découvrez nos programmes de développement personnel conçus pour vous aider à atteindre vos objectifs, améliorer votre bien-être et booster votre productivité. Nos méthodes éprouvées vous guideront pas à pas vers une vie plus épanouie.
            </p>
            <a href="contact.html" class="cta-button">Découvrir la démo</a>
        </div>
    </section>

    <div class="programs-container">
        <h2 class="programs-title">Nos Programmes</h2>
        <br><br>
        <div class="programs-list">
            <div class="program-block sport" data-program-name="Sport">
                <span class="program-block-title">Sport</span>
            </div>
            <div class="program-block reboot-mental" data-program-name="Reboot Mental">
                <span class="program-block-title">Reboot Mental</span>
            </div>
            <div class="program-block gestion-du-temps" data-program-name="Gestion du temps et des priorités">
                <span class="program-block-title">Gestion du temps et des priorités</span>
            </div>
            <div class="program-block habitudes-discipline" data-program-name="Habitudes et Discipline">
                <span class="program-block-title">Habitudes et Discipline</span>
            </div>
            <div class="program-block creativite-expression" data-program-name="Créativité et Expression">
                <span class="program-block-title">Créativité et Expression</span>
            </div>
            <div class="program-block leadership-collaboration" data-program-name="Leadership et Collaboration">
                <span class="program-block-title">Leadership et Collaboration</span>
            </div>
            <div class="program-block sante-bien-etre" data-program-name="Santé et Bien-être">
                <span class="program-block-title">Santé et Bien-être</span>
            </div>
            <div class="program-block productivite" data-program-name="Productivité">
                <span class="program-block-title">Productivité</span>
            </div>
            <div class="program-block developpement-personnel" data-program-name="Développement Personnel">
                <span class="program-block-title">Développement Personnel</span>
            </div>
        </div>
    </div>
    
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <p>Veuillez vous connecter pour accéder à ce programme.</p>
            <a href="login.html" class="modal-button">Se connecter</a>
        </div>
    </div>

    <script src="script.js"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyAf24xv1trcTaKimrQMCfB8hxt4WKB0fPs",
            authDomain: "nexttodays.firebaseapp.com",
            projectId: "nexttodays",
            storageBucket: "nexttodays.firebasestorage.app",
            messagingSenderId: "1004505500687",
            appId: "1:1004505500687:web:9c04da365870e3f49ee77a",
            measurementId: "G-S8K683PWT4"
        };
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const startButton = document.getElementById('startButton');
        const profileLink = document.getElementById('profile-link');

        startButton.addEventListener('click', () => {
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    window.location.href = "programmes.html";
                } else {
                    window.location.href = "login.html";
                }
            });
        });
        
        profileLink.addEventListener('click', (e) => {
            e.preventDefault();
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    window.location.href = "profil.html";
                } else {
                    window.location.href = "login.html";
                }
            });
        });
        
        document.querySelectorAll('.program-block').forEach(block => {
            block.addEventListener('click', () => {
                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        const programName = block.getAttribute('data-program-name');
                        const formattedName = programName.replace(/\s/g, '');
                        window.location.href = `${formattedName}.html`;
                    } else {
                        document.getElementById('loginModal').style.display = 'block';
                    }
                });
            });
        });

        if (document.querySelector('.close-button')) {
            document.querySelector('.close-button').addEventListener('click', () => {
                document.getElementById('loginModal').style.display = 'none';
            });
        }
        
        window.addEventListener('click', (event) => {
            if (event.target == document.getElementById('loginModal')) {
                document.getElementById('loginModal').style.display = 'none';
            }
        });
    </script>
</body>
</html>